{"version":3,"sources":["src/index.js"],"names":["BoardGame","obj","defaultprop","viewport","width","height","map","tiles","size","props","Object","assign","prop","extend","console","log","hasOwnProperty","BoardGameExceptions","canvas","document","createElement","setAttribute","id","el","getElementById","style","backgroundColor","overflow","appendChild","renderMap","app","fabric","Canvas","selection","sizeGrid","realzise","i","linea1Op","Math","round","lineaH","Line","stroke","selectable","add","linea2p","lineaV","a","b","key","min","max","random","ceil","floor","sideCount","radius","sweep","PI","cx","cy","points","x","cos","y","sin","push","message","error","Error","tablero"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["class BoardGame {\r\n  constructor(obj) {\r\n    var defaultprop = {\r\n      viewport: {\r\n        width: 600,\r\n        height: 400,\r\n      },\r\n      map: {\r\n        tiles: 15,\r\n        size: 32,\r\n      },\r\n    };\r\n    this.props = Object.assign(defaultprop, obj);\r\n    var prop = this.extend(defaultprop, obj);\r\n    console.log(\"jax\", prop);\r\n\r\n    if (!this.props.hasOwnProperty(\"id\")) {\r\n      throw new BoardGameExceptions(\"Falta el id del elemento del HTML...\");\r\n    } else {\r\n      var canvas = document.createElement(\"canvas\");\r\n      canvas.setAttribute(\"id\", \"canvas_\" + this.props.id);\r\n\r\n      var width = this.props.map.tiles * this.props.map.size;\r\n      var height = this.props.map.tiles * this.props.map.size;\r\n\r\n      //console.log(\"hjax\", this.props.map.tiles);\r\n\r\n      canvas.setAttribute(\"width\", width);\r\n      canvas.setAttribute(\"height\", height);\r\n\r\n      this.el = document.getElementById(this.props.id);\r\n      this.el.style.width = this.props.viewport.width + \"px\";\r\n      this.el.style.height = this.props.viewport.height + \"px\";\r\n      this.el.style.backgroundColor = \"rgb(60, 0, 255)\";\r\n      this.el.style.overflow = \"auto\";\r\n      this.el.appendChild(canvas);\r\n      this.renderMap(canvas);\r\n    }\r\n  }\r\n  renderMap(canvas) {\r\n    var app = this;\r\n\r\n    app.canvas = new fabric.Canvas(canvas, {\r\n      selection: false,\r\n    });\r\n    var sizeGrid = (this.props.map.tiles - 1) * this.props.map.size;\r\n    var realzise = this.props.map.tiles;\r\n\r\n    for (var i = 0; i <= realzise; i++) {\r\n      var linea1Op = [\r\n        Math.round(i * this.props.map.size),\r\n        0,\r\n        Math.round(i * this.props.map.size),\r\n        sizeGrid,\r\n      ];\r\n\r\n      var lineaH = new fabric.Line(linea1Op, {\r\n        stroke: \"#ccc\",\r\n        selectable: false,\r\n      });\r\n      app.canvas.add(lineaH);\r\n\r\n      var linea2p = [\r\n        0,\r\n        Math.round(i * this.props.map.size),\r\n        sizeGrid,\r\n        Math.round(i * this.props.map.size),\r\n      ];\r\n\r\n      var lineaV = new fabric.Line(linea2p, {\r\n        stroke: \"#ccc\",\r\n        selectable: false,\r\n      });\r\n      app.canvas.add(lineaV);\r\n    }\r\n  }\r\n  extend(a, b) {\r\n    for (var key in b) if (b.hasOwnProperty(key)) a[key] = b[key];\r\n    return a;\r\n  }\r\n  getRandom(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n  }\r\n  getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n  regularPolygonPoints(sideCount, radius) {\r\n    var sweep = (Math.PI * 2) / sideCount;\r\n    var cx = radius;\r\n    var cy = radius;\r\n    var points = [];\r\n    for (var i = 0; i < sideCount; i++) {\r\n      var x = cx + radius * Math.cos(i * sweep);\r\n      var y = cy + radius * Math.sin(i * sweep);\r\n      points.push({ x: x, y: y });\r\n    }\r\n    return points;\r\n  }\r\n}\r\n\r\nclass BoardGameExceptions {\r\n  constructor(message) {\r\n    const error = new Error(message);\r\n    return error;\r\n  }\r\n}\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\nvar tablero = new BoardGame({\r\n  id: \"game\",\r\n  map: {\r\n    tiles: 65,\r\n  },\r\n});\r\n"]}