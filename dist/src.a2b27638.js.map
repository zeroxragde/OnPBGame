{"version":3,"sources":["src/index.js"],"names":["BoardGame","obj","defaultprop","viewport","width","height","map","size","props","Object","assign","hasOwnProperty","BoardGameExceptions","canvas","document","createElement","setAttribute","id","renderMap","el","getElementById","style","backgroundColor","overflow","appendChild","app","fabric","Canvas","selection","i","Math","round","linea1Op","lineaH","Line","stroke","selectable","add","linea2p","lineaV","min","max","random","ceil","floor","sideCount","radius","sweep","PI","cx","cy","points","x","cos","y","sin","push","message","error","Error","tablero"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["class BoardGame {\n  constructor(obj) {\n    var defaultprop = {\n      viewport: {\n        width: 800,\n        height: 800\n      },\n      map: {\n        width: 500,\n        height: 500,\n        size: 32\n      }\n    };\n    this.props = Object.assign(defaultprop, obj);\n\n    if (!this.props.hasOwnProperty(\"id\")) {\n      throw new BoardGameExceptions(\"Falta el id del elemento del HTML...\");\n    } else {\n      var canvas = document.createElement(\"canvas\");\n      canvas.setAttribute(\"id\", \"canvas_\" + this.props.id);\n      canvas.setAttribute(\"width\", this.props.map.width);\n      canvas.setAttribute(\"height\", this.props.map.height);\n\n      this.renderMap(canvas);\n      this.el = document.getElementById(this.props.id);\n\n      this.el.style.width = this.props.viewport.width + \"px\";\n      this.el.style.height = this.props.viewport.height + \"px\";\n      this.el.style.backgroundColor = \"#00078c\";\n      this.el.style.overflow = \"auto\";\n\n      this.el.appendChild(canvas);\n    }\n  }\n  renderMap(canvas) {\n    var app = this;\n\n    app.canvas = new fabric.Canvas(canvas, {\n      selection: false\n    });\n\n    for (\n      var i = 0;\n      i < Math.round(this.props.map.width / this.props.map.size);\n      i++\n    ) {\n      var linea1Op = [\n        Math.round(i * this.props.map.size),\n        0,\n        Math.round(i * this.props.map.size),\n        this.props.map.width\n      ];\n\n      var lineaH = new fabric.Line(linea1Op, {\n        stroke: \"#ccc\",\n        selectable: false\n      });\n      app.canvas.add(lineaH);\n\n      var linea2p = [\n        0,\n        Math.round(i * this.props.map.size),\n        this.props.map.width,\n        Math.round(i * this.props.map.size)\n      ];\n\n      var lineaV = new fabric.Line(linea2p, {\n        stroke: \"#ccc\",\n        selectable: false\n      });\n      app.canvas.add(lineaV);\n    }\n  }\n\n  getRandom(min, max) {\n    return Math.random() * (max - min) + min;\n  }\n  getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n  regularPolygonPoints(sideCount, radius) {\n    var sweep = (Math.PI * 2) / sideCount;\n    var cx = radius;\n    var cy = radius;\n    var points = [];\n    for (var i = 0; i < sideCount; i++) {\n      var x = cx + radius * Math.cos(i * sweep);\n      var y = cy + radius * Math.sin(i * sweep);\n      points.push({ x: x, y: y });\n    }\n    return points;\n  }\n}\n\nclass BoardGameExceptions {\n  constructor(message) {\n    const error = new Error(message);\n    return error;\n  }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nvar tablero = new BoardGame({\n  id: \"game\"\n});\n"]}